### Backend Processes = YOUR 400 SQL Workers ğŸ‘¶

```text
1 Rust connection = 1 Backend PID
YOUR PgPool(400) = 400 Backend PIDs! âœ…

Rust conn #1 â†’ Backend PID 12347
Rust conn #2 â†’ Backend PID 12456
Rust conn #400 â†’ Backend PID 13645
```

### Each Backend PID = Dedicated SQL Worker

```text
Backend PID 12347 does EVERYTHING SQL:
âœ… PARSE: "SELECT users" â†’ Grammar check
âœ… PLAN: "Use emailhash index?" â†’ Best plan
âœ… EXECUTE: Read 16GB cache â†’ WAL â†’ Disk
âœ… Transactions: BEGIN/COMMIT/ROLLBACK
âœ… RETURN: JSON back to Rust
```

### Why Processes > Threads? (STABILITY!)

```text
PROCESSES (PostgreSQL) ğŸ‘¶        THREADS (Other DBs) ğŸ’¥
â”œâ”€â”€ PID 12347 crashes?           â”œâ”€â”€ ONE thread crash =
â”‚   Others keep working! âœ…       â”‚   WHOLE DATABASE DEAD! ğŸ’€
â”œâ”€â”€ TRUE isolation               â”œâ”€â”€ Shared memory fights
â”œâ”€â”€ Kill PID 12347 = Fix!        â””â”€â”€ DEBUG NIGHTMARE!
â””â”€â”€ 25+ years rock solid         â””â”€â”€ Frequent crashes
```

### max_connections = YOUR Worker Limit

```bash
postgresql.conf:
max_connections = 5000  â† MAX PIDs allowed!

Your server: 10 Rust servers Ã— 400 conns = 4000 PIDs
= 80% of 5000 = SAFE! âœ…
```

### Memory Trade-Off (Worth It!)

```text
4000 PIDs Ã— 2MB each = 8GB RAM overhead ğŸ˜…
VS
CRASH PROOF! One dies â†’ 3999 still alive âœ…
```

```text
â”Œâ”€ Postmaster PID 12345 ğŸ‘‘ â”€â”
â”‚ 400 Backend PIDs ğŸ‘¶        â”‚
â”œâ”€ PID 12347 â† conn #1      â”‚
â”œâ”€ PID 12456 â† conn #2      â”‚
â”‚ ...                       â”‚
â””â”€ PID 13645 â† conn #400    â”‚
       â†•
   shared_buffers (16GB) ğŸ§Š
```
