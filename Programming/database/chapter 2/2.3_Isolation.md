Isolation = "Transactions don't see each other's mess" - No interference!

No peeking at other people's work!

### Imagine Two cashiers (T1, T2) at same bank counter simultaneously

#### 4 Safety Locks (Easy ‚Üí Strict)

| Level                       | What You See          | Problem You STILL Have     | Speed      | Your Code                              |
| --------------------------- | --------------------- | -------------------------- | ---------- | -------------------------------------- |
| Read Uncommitted            | Other people's drafts | ‚ùå Sees fake data          | ‚ö° Fastest | NEVER                                  |
| Read Committed (PG default) | Live records          | ‚ùå Numbers change mid-work | ‚ö° Fast    | BEGIN;                                 |
| Repeatable Read             | Frozen snapshot       | ‚ùå New rows sneak in       | üêå Medium  | BEGIN ISOLATION LEVEL REPEATABLE READ; |
| Serializable                | Perfect order         | ‚úÖ No problems             | üê¢ Slowest | BEGIN ISOLATION LEVEL SERIALIZABLE;    |

#### Problems

1. DIRTY READ = "Saw erased pencil marks" üò±
2. NON-REPEATABLE = "Number changed while working" ü§î
3. PHANTOM = "New lines appeared from nowhere" üëª

- Each level FIXES the previous problem
- But has its OWN new problem
- Only Serializable fixes ALL

#### Isolation Levels with Bank Examples (Timeline Style)

```text
T1 (Alice pays Bob $50): UPDATE accounts SET balance=balance-50 WHERE id=1
T2 (Charlie checks Bob's balance): SELECT balance FROM accounts WHERE id=2
```

#### 1. Read Uncommitted (DANGEROUS)

```text
Time 0: Bob balance = $100
Time 1: T1: Bob +$50 ‚Üí $150 (NOT committed!)
Time 2: T2: SEES $150 ‚Üí "Bob rich!" ‚úÖ
Time 3: T1: ROLLBACK ‚Üí Bob back to $100
T2: "Wait, money disappeared?!" üò± **DIRTY READ**
```

#### 2. Read Committed (PG Default - SAFE)

```text
Time 0: Bob balance = $100
Time 1: T1: Bob +$50 ‚Üí $150 (NOT committed!)
Time 2: T2: SEES $100 (ignores T1 draft) ‚úÖ
Time 3: T1: COMMIT ‚Üí Bob $150
Time 4: T2: SELECT AGAIN ‚Üí $150 **NON-REPEATABLE READ** ü§î
Numbers move under your feet
```

#### 3. Repeatable Read

```text
Time 0: Bob balance = $100
Time 1: T1: Bob +$50 ‚Üí $150
 Time 2: T2: SEES $100 (frozen snapshot) ‚úÖ
Time 3: T1: COMMIT ‚Üí Bob $150
Time 4: T2: SELECT COUNT(_) ‚Üí 1 account
Time 5: T2: SELECT COUNT(_) ‚Üí 2 accounts **PHANTOM READ** üëª
```

#### 4. Serializable (BANKS ONLY)

```text
T2 starts ‚Üí BLOCKS everyone else ‚Üí Perfect order ‚Üí No problems ‚úÖ
"SLOW but perfect - everyone waits in line"
```
