#### 2.4 Durability

- Committed changes persist after failure
- Write-Ahead Logging (WAL) ensures durability
- Changes permanent once committed

Durability = "Your money is SAFE forever" ğŸ’°ğŸ”’

Simple Analogy: Bank Vault

```text
You deposit â‚¹1000 â†’ Bank writes receipt
âœ… RECEIPT = COMMIT (your money is OURS now)
âŒ Power fails â†’ Bank remembers your â‚¹1000
âœ… Server crash â†’ Your â‚¹1000 still there
```

Write-Ahead Logging (WAL) = Notebook First

```text
1. You: "Transfer â‚¹100 Bob"
2. PG: âœï¸ Writes to LOGBOOK: "Bob +100"
3. PG: "COMMIT" (logbook entry permanent)
4. Later: Copies logbook â†’ main ledger
```

```text
Server crashes after #3?
âœ… LOGBOOK has your transfer â†’ SAFE!
```

#### Timeline Example

```text
Time 0: Bob = â‚¹0
Time 1: Alice: TRANSFER â‚¹100 â†’ WAL: "Bob+100"
Time 2: COMMIT âœ… PERMANENT
Time 3: Server CRASH ğŸ’¥
Time 4: Restart â†’ WAL recovered â†’ Bob = â‚¹100 âœ…
```
